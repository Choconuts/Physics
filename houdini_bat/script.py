import hou
import os

transforms = [
[[0.6866, -0.7270, 0.0000, 0.0000], 
[0.3925, 0.3707, 0.8417, 0.0000], 
[-0.6119, -0.5780, 0.5399, 0.0000], 
[-2.4668, -2.3299, 2.1764, 1.0000]],
 
[[-8.2283e-01, -5.6829e-01, 7.4506e-09, 0.0000e+00], 
[7.9877e-02, -1.1565e-01, 9.9007e-01, 0.0000e+00], 
[-5.6265e-01, 8.1466e-01, 1.4056e-01, 0.0000e+00], 
[-2.2681e+00, 3.2840e+00, 5.6660e-01, 1.0000e+00]],
 
[[4.8521e-01, -8.7440e-01, -1.4901e-08, 0.0000e+00], 
[7.3482e-01, 4.0775e-01, 5.4201e-01, 0.0000e+00], 
[-4.7393e-01, -2.6299e-01, 8.4037e-01, 0.0000e+00], 
[-1.9105e+00, -1.0601e+00, 3.3877e+00, 1.0000e+00]],
 
[[6.4310e-01, -7.6578e-01, -1.4901e-08, 0.0000e+00], 
[6.6193e-01, 5.5589e-01, 5.0282e-01, 0.0000e+00], 
[-3.8505e-01, -3.2336e-01, 8.6439e-01, 0.0000e+00], 
[-1.5522e+00, -1.3035e+00, 3.4845e+00, 1.0000e+00]],
 
[[0.2211, -0.9753, 0.0000, 0.0000], 
[0.2596, 0.0589, 0.9639, 0.0000], 
[-0.9401, -0.2131, 0.2662, 0.0000], 
[-3.7895, -0.8590, 1.0732, 1.0000]],
 
[[7.0916e-01, -7.0505e-01, -1.4901e-08, 0.0000e+00], 
[6.5898e-01, 6.6282e-01, 3.5555e-01, 0.0000e+00], 
[-2.5068e-01, -2.5214e-01, 9.3466e-01, 0.0000e+00], 
[-1.0105e+00, -1.0164e+00, 3.7677e+00, 1.0000e+00]],
 
[[-0.6581, 0.7529, 0.0000, 0.0000], 
[-0.7215, -0.6307, 0.2857, 0.0000], 
[0.2151, 0.1880, 0.9583, 0.0000], 
[0.8673, 0.7581, 3.8631, 1.0000]],
 
[[0.9933, 0.1156, 0.0000, 0.0000], 
[-0.0462, 0.3972, 0.9166, 0.0000], 
[0.1060, -0.9104, 0.3999, 0.0000], 
[0.4272, -3.6700, 1.6120, 1.0000]],
 
[[-6.4178e-01, 7.6689e-01, -3.7253e-09, 0.0000e+00], 
[-7.6215e-01, -6.3781e-01, 1.1097e-01, 0.0000e+00], 
[8.5102e-02, 7.1218e-02, 9.9382e-01, 0.0000e+00], 
[3.4306e-01, 2.8709e-01, 4.0062e+00, 1.0000e+00]],
 
[[-0.8038, 0.5950, 0.0000, 0.0000], 
[-0.3915, -0.5289, 0.7530, 0.0000], 
[0.4480, 0.6052, 0.6580, 0.0000], 
[1.8059, 2.4397, 2.6526, 1.0000]],
 
[[9.7834e-01, 2.0698e-01, 3.7253e-09, 0.0000e+00], 
[-2.0522e-01, 9.6999e-01, 1.3038e-01, 0.0000e+00], 
[2.6986e-02, -1.2756e-01, 9.9146e-01, 0.0000e+00], 
[1.0878e-01, -5.1419e-01, 3.9967e+00, 1.0000e+00]],
 
[[-0.7893, -0.6140, 0.0000, 0.0000], 
[0.2164, -0.2782, 0.9358, 0.0000], 
[-0.5746, 0.7386, 0.3524, 0.0000], 
[-2.3164, 2.9776, 1.4206, 1.0000]],
 
[[6.2197e-01, 7.8304e-01, -3.7253e-09, 0.0000e+00], 
[-7.7880e-01, 6.1861e-01, 1.0384e-01, 0.0000e+00], 
[8.1310e-02, -6.4585e-02, 9.9459e-01, 0.0000e+00], 
[3.2777e-01, -2.6035e-01, 4.0093e+00, 1.0000e+00]],
 
[[7.8402e-01, 6.2073e-01, -2.9802e-08, 0.0000e+00], 
[-4.3484e-01, 5.4923e-01, 7.1362e-01, 0.0000e+00], 
[4.4297e-01, -5.5950e-01, 7.0053e-01, 0.0000e+00], 
[1.7857e+00, -2.2554e+00, 2.8239e+00, 1.0000e+00]],
 
[[-8.5395e-01, -5.2036e-01, 1.4901e-08, 0.0000e+00], 
[1.9438e-01, -3.1899e-01, 9.2761e-01, 0.0000e+00], 
[-4.8269e-01, 7.9213e-01, 3.7355e-01, 0.0000e+00], 
[-1.9458e+00, 3.1932e+00, 1.5058e+00, 1.0000e+00]],
 
[[-0.9860, 0.1668, 0.0000, 0.0000], 
[-0.0222, -0.1311, 0.9911, 0.0000], 
[0.1653, 0.9772, 0.1330, 0.0000], 
[0.6663, 3.9394, 0.5361, 1.0000]],
 
[[0.8122, 0.5834, 0.0000, 0.0000], 
[-0.4184, 0.5824, 0.6970, 0.0000], 
[0.4066, -0.5660, 0.7171, 0.0000], 
[1.6392, -2.2818, 2.8908, 1.0000]],
 
[[-0.1693, -0.9856, 0.0000, 0.0000], 
[0.8407, -0.1444, 0.5219, 0.0000], 
[-0.5143, 0.0883, 0.8530, 0.0000], 
[-2.0733, 0.3561, 3.4387, 1.0000]],
 
[[-7.5499e-01, -6.5574e-01, 1.4901e-08, 0.0000e+00], 
[3.6298e-01, -4.1792e-01, 8.3282e-01, 0.0000e+00], 
[-5.4611e-01, 6.2877e-01, 5.5354e-01, 0.0000e+00], 
[-2.2014e+00, 2.5347e+00, 2.2314e+00, 1.0000e+00]],
 
[[0.9980, 0.0625, 0.0000, 0.0000], 
[-0.0360, 0.5753, 0.8172, 0.0000], 
[0.0511, -0.8156, 0.5764, 0.0000], 
[0.2058, -3.2877, 2.3236, 1.0000]],
 
[[-1.0027e-01, -9.9496e-01, -3.7253e-09, 0.0000e+00], 
[4.6416e-01, -4.6775e-02, 8.8452e-01, 0.0000e+00], 
[-8.8006e-01, 8.8688e-02, 4.6651e-01, 0.0000e+00], 
[-3.5476e+00, 3.5751e-01, 1.8806e+00, 1.0000e+00]],
 
[[4.6913e-01, -8.8313e-01, 1.4901e-08, 0.0000e+00], 
[5.8620e-01, 3.1140e-01, 7.4793e-01, 0.0000e+00], 
[-6.6052e-01, -3.5087e-01, 6.6378e-01, 0.0000e+00], 
[-2.6626e+00, -1.4144e+00, 2.6758e+00, 1.0000e+00]],
 
[[-6.8181e-01, 7.3153e-01, 1.4901e-08, 0.0000e+00], 
[-1.7271e-01, -1.6097e-01, 9.7173e-01, 0.0000e+00], 
[7.1085e-01, 6.6254e-01, 2.3610e-01, 0.0000e+00], 
[2.8655e+00, 2.6708e+00, 9.5174e-01, 1.0000e+00]],
 
[[-6.4065e-01, -7.6783e-01, -1.4901e-08, 0.0000e+00], 
[2.7536e-01, -2.2975e-01, 9.3349e-01, 0.0000e+00], 
[-7.1676e-01, 5.9804e-01, 3.5861e-01, 0.0000e+00], 
[-2.8894e+00, 2.4108e+00, 1.4456e+00, 1.0000e+00]],
 
[[-0.9557, 0.2944, 0.0000, 0.0000], 
[-0.1718, -0.5577, 0.8121, 0.0000], 
[0.2390, 0.7761, 0.5836, 0.0000], 
[0.9636, 3.1285, 2.3524, 1.0000]]]

cam = hou.node('obj/cam1')
out = hou.node('out/mantra_ipr')

for i, trans in enumerate(transforms):
    idx = i + 75
    if trans is None:
        continue
    filename = f'$HIP/val/r_{idx}.png'
    mat = hou.Matrix4(trans)
    cam.setWorldTransform(mat)
    hou.node('out/mantra_ipr')
    out.render(output_file=filename)


